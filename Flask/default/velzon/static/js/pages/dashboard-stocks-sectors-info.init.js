$(document).ready(function(){var t="",n="",e={};function o(){if(t&&n){console.log(`Fetching quickRatio for ${t}:`,n);var e=t,o=null;switch(e){case"stock":o=c(n,"symbol",table_data_fund,e);break;case"economic":o=c(n,"key",weighted_data_economic_sector,e);break;case"segment":o=c(n,"key",weighted_data_segment,e);break;case"subsector":o=c(n,"key",weighted_data_subsector,e);break;default:console.log("Invalid option selected: "+e)}console.log("Displaying quickRatio:",null!==o?o:"Not Available"),$("#quickRatioDisplay").text(null!==o?o:"Not Available")}else console.log("Waiting for both option and symbol/key selection...")}function c(o,t,e,n){var c="stock"===n?"quickRatio":"weighted_mean_quickRatio",e=(console.log(`Looking for ${c} for ${o} in option: `+n),e.find(e=>e[t]===o));if(e){if(e.hasOwnProperty(c))return console.log(`Found ${c}:`,e[c],"for",o),e[c];console.log(`Missing ${c} in:`,e)}else console.log(`No item found for ${o} in option: `+n);return null}t=$("#listOption").text().trim().toLowerCase(),n=$("#selectedButtonValue").text().trim(),e[t]=n,$("#stocksOption").click(function(){t="stock",console.log("List option selected: stock"),n=e[t]||"",o()}),$("#economicSectorsOption").click(function(){t="economic",console.log("List option selected: economic"),n=e[t]||"",o()}),$("#segmentsOption").click(function(){t="segment",console.log("List option selected: segment"),n=e[t]||"",o()}),$("#subsectorsOption").click(function(){t="subsector",console.log("List option selected: subsector"),n=e[t]||"",o()}),$(".dropdown-menu a.dropdown-item").on("click",function(){n=$(this).text().trim(),$(this).closest(".btn-group").find(".dropdown-toggle").text(n),console.log("Selected symbol/key:",n),e[t]=n,o()}),$("#stockButton").click(function(){t="stock",n=$(this).text().trim(),console.log("Button value selected: stock -",n),e[t]=n,o()}),$("#economicButton").click(function(){t="economic",n=$(this).text().trim(),console.log("Button value selected: economic -",n),e[t]=n,o()}),$("#segmentButton").click(function(){t="segment",n=$(this).text().trim(),console.log("Button value selected: segment -",n),e[t]=n,o()}),$("#subsectorButton").click(function(){t="subsector",n=$(this).text().trim(),console.log("Button value selected: subsector -",n),e[t]=n,o()});var s,i={stocksOption:"#stockButton",segmentsOption:"#segmentButton",subsectorsOption:"#subsectorButton",economicSectorsOption:"#economicSectorButton",stockExchangeOption:"#stockExchangeButton"};function l(e,o,t){e.checked?(e=$(o).length===$(o+":checked").length,$(t).prop("checked",e)):$(t).prop("checked",!1)}$.each(i,function(e,o){$("#"+e).click(function(){$.each(i,function(e,o){$("#"+e).prop("disabled",!1).removeClass("btn-success")}),$(this).prop("disabled",!0).addClass("btn-success"),$.each(i,function(e,o){$(o).prop("disabled",!0).removeClass("btn-success").addClass("btn-light")}),$(o).prop("disabled",!1).removeClass("btn-light").addClass("btn-success")})}),s=$.fn.DataTable.isDataTable("#stock-ind-fund")?$("#stock-ind-fund").DataTable():$("#stock-ind-fund").DataTable({}),$(".subsector-option-fund").change(function(){var e=$(".subsector-option-fund:checked").map(function(){return $(this).data("value")}).get().join("|");s.column(2).search(e,!0,!1).draw()}),$(".segment-option-fund").change(function(){var e=$(".segment-option-fund:checked").map(function(){return $(this).data("value")}).get().join("|");s.column(3).search(e,!0,!1).draw()}),$(".economicSector-option-fund").change(function(){var e=$(".economicSector-option-fund:checked").map(function(){return $(this).data("value")}).get().join("|");s.column(1).search(e,!0,!1).draw()}),$("#selectAllSubsectors").change(function(){var e=$(this).prop("checked");$(".subsector-option-fund").prop("checked",e).trigger("change")}),$("#selectAllSegments").change(function(){var e=$(this).prop("checked");$(".segment-option-fund").prop("checked",e).trigger("change")}),$("#selectAllEconomicSectors").change(function(){var e=$(this).prop("checked");$(".economicSector-option-fund").prop("checked",e).trigger("change")}),$("#selectAll").change(function(){$(".subsector-option-fund").prop("checked",this.checked)}),$(".subsector-option-fund").change(function(){l(this,".subsector-option-fund","#selectAll")}),$("#selectAllSegments").change(function(){$(".segment-option-fund").prop("checked",this.checked)}),$(".segment-option-fund").change(function(){l(this,".segment-option-fund","#selectAllSegments")}),$("#selectAllEconomicSectors").change(function(){$(".economicSector-option-fund").prop("checked",this.checked)}),$(".economicSector-option-fund").change(function(){l(this,".economicSector-option-fund","#selectAllEconomicSectors")}),s.on("draw",function(){updateUniqueCounts()})});