$(document).ready(function(){var n="",c="",o={};function e(){var t;n&&c?(console.log(`Fetching indicators for ${n}:`,c),t="stock"===n?"symbol":"key",["quickRatio","currentRatio"].forEach(o=>{var e=function(e,t,o,n,c){var s={quickRatio:"stock"===n?"quickRatio":"weighted_mean_quickRatio",currentRatio:"stock"===n?"currentRatio":"weighted_mean_currentRatio"}[c];if(!s)return console.log("Invalid indicator name: "+c),null;console.log(`Looking for ${s} for ${e} in option: `+n);c=o.find(o=>o[t]===e);return c&&c.hasOwnProperty(s)?(console.log(`Found ${s}:`,c[s],"for",e),c[s]):(console.log(`No item found or missing ${s} for ${e} in option: `+n),null)}(c,t,function(o){switch(o){case"stock":return table_data_fund;case"economic":return weighted_data_economic_sector;case"segment":return weighted_data_segment;case"subsector":return weighted_data_subsector;default:return console.log("Invalid option: "+o),[]}}(n),n,o);console.log(`Displaying ${o}:`,null!==e?e:"Not Available"),$(`#${o}Display`).text(null!==e?e:"Not Available")})):console.log("Waiting for both option and symbol/key selection...")}n=$("#listOption").text().trim().toLowerCase(),c=$("#selectedButtonValue").text().trim(),o[n]=c,$("#stocksOption").click(function(){n="stock",console.log("List option selected: stock"),c=o[n]||"",e()}),$("#economicSectorsOption").click(function(){n="economic",console.log("List option selected: economic"),c=o[n]||"",e()}),$("#segmentsOption").click(function(){n="segment",console.log("List option selected: segment"),c=o[n]||"",e()}),$("#subsectorsOption").click(function(){n="subsector",console.log("List option selected: subsector"),c=o[n]||"",e()}),$(".dropdown-menu a.dropdown-item").on("click",function(){c=$(this).text().trim(),$(this).closest(".btn-group").find(".dropdown-toggle").text(c),console.log("Selected symbol/key:",c),o[n]=c,e()}),$("#stockButton").click(function(){n="stock",c=$(this).text().trim(),console.log("Button value selected: stock -",c),o[n]=c,e()}),$("#economicButton").click(function(){n="economic",c=$(this).text().trim(),console.log("Button value selected: economic -",c),o[n]=c,e()}),$("#segmentButton").click(function(){n="segment",c=$(this).text().trim(),console.log("Button value selected: segment -",c),o[n]=c,e()}),$("#subsectorButton").click(function(){n="subsector",c=$(this).text().trim(),console.log("Button value selected: subsector -",c),o[n]=c,e()});var t,s={stocksOption:"#stockButton",segmentsOption:"#segmentButton",subsectorsOption:"#subsectorButton",economicSectorsOption:"#economicSectorButton",stockExchangeOption:"#stockExchangeButton"};function i(o,e,t){o.checked?(o=$(e).length===$(e+":checked").length,$(t).prop("checked",o)):$(t).prop("checked",!1)}$.each(s,function(o,e){$(e).prop("disabled",!0).removeClass("btn-success").addClass("btn-light")}),$.each(s,function(o,e){$("#"+o).click(function(){$.each(s,function(o,e){$("#"+o).prop("disabled",!1).removeClass("btn-success")}),$(this).prop("disabled",!0).addClass("btn-success"),$.each(s,function(o,e){$(e).prop("disabled",!0).removeClass("btn-success").addClass("btn-light")}),$(e).prop("disabled",!1).removeClass("btn-light").addClass("btn-success")})}),t=$.fn.DataTable.isDataTable("#stock-ind-fund")?$("#stock-ind-fund").DataTable():$("#stock-ind-fund").DataTable({}),$(".subsector-option-fund").change(function(){var o=$(".subsector-option-fund:checked").map(function(){return $(this).data("value")}).get().join("|");t.column(2).search(o,!0,!1).draw()}),$(".segment-option-fund").change(function(){var o=$(".segment-option-fund:checked").map(function(){return $(this).data("value")}).get().join("|");t.column(3).search(o,!0,!1).draw()}),$(".economicSector-option-fund").change(function(){var o=$(".economicSector-option-fund:checked").map(function(){return $(this).data("value")}).get().join("|");t.column(1).search(o,!0,!1).draw()}),$("#selectAllSubsectors").change(function(){var o=$(this).prop("checked");$(".subsector-option-fund").prop("checked",o).trigger("change")}),$("#selectAllSegments").change(function(){var o=$(this).prop("checked");$(".segment-option-fund").prop("checked",o).trigger("change")}),$("#selectAllEconomicSectors").change(function(){var o=$(this).prop("checked");$(".economicSector-option-fund").prop("checked",o).trigger("change")}),$("#selectAll").change(function(){$(".subsector-option-fund").prop("checked",this.checked)}),$(".subsector-option-fund").change(function(){i(this,".subsector-option-fund","#selectAll")}),$("#selectAllSegments").change(function(){$(".segment-option-fund").prop("checked",this.checked)}),$(".segment-option-fund").change(function(){i(this,".segment-option-fund","#selectAllSegments")}),$("#selectAllEconomicSectors").change(function(){$(".economicSector-option-fund").prop("checked",this.checked)}),$(".economicSector-option-fund").change(function(){i(this,".economicSector-option-fund","#selectAllEconomicSectors")}),t.on("draw",function(){updateUniqueCounts()})});