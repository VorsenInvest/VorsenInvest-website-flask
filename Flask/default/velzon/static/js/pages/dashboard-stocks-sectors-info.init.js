$(document).ready(function(){var o="",i="",e={};function t(){var n;o&&i?(console.log(`Fetching indicators for ${o}:`,i),n="stock"===o?"symbol":"key",["quickRatio","currentRatio","debtToEquity","revenuePerShare","returnOnAssets","returnOnEquity","earningsGrowth","revenueGrowth","grossMargins","ebitdaMargins","operatingMargins","profitMargins","heldPercentInsiders","heldPercentInstitutions","beta","bookValue","earningsQuarterlyGrowth","trailingEps","forwardEps","enterpriseToEbitda","enterpriseToEbit","dividendYield","subSector","segment","economicSector"].forEach(e=>{var t=function(t,n,e,o,i){var s={quickRatio:"stock"===o?"quickRatio":"weighted_mean_quickRatio",currentRatio:"stock"===o?"currentRatio":"weighted_mean_currentRatio",debtToEquity:"stock"===o?"debtToEquity":"weighted_mean_debtToEquity",revenuePerShare:"stock"===o?"revenuePerShare":"weighted_mean_revenuePerShare",returnOnAssets:"stock"===o?"returnOnAssets":"weighted_mean_returnOnAssets",returnOnEquity:"stock"===o?"returnOnEquity":"weighted_mean_returnOnEquity",earningsGrowth:"stock"===o?"earningsGrowth":"weighted_mean_earningsGrowth",revenueGrowth:"stock"===o?"revenueGrowth":"weighted_mean_revenueGrowth",grossMargins:"stock"===o?"grossMargins":"weighted_mean_grossMargins",ebitdaMargins:"stock"===o?"ebitdaMargins":"weighted_mean_ebitdaMargins",operatingMargins:"stock"===o?"operatingMargins":"weighted_mean_operatingMargins",profitMargins:"stock"===o?"profitMargins":"weighted_mean_profitMargins",heldPercentInsiders:"stock"===o?"heldPercentInsiders":"weighted_mean_heldPercentInsiders",heldPercentInstitutions:"stock"===o?"heldPercentInstitutions":"weighted_mean_heldPercentInstitutions",beta:"stock"===o?"beta":"weighted_mean_beta",bookValue:"stock"===o?"bookValue":"weighted_mean_bookValue",earningsQuarterlyGrowth:"stock"===o?"earningsQuarterlyGrowth":"weighted_mean_earningsQuarterlyGrowth",trailingEps:"stock"===o?"trailingEps":"weighted_mean_trailingEps",forwardEps:"stock"===o?"forwardEps":"weighted_mean_forwardEps",enterpriseToEbitda:"stock"===o?"enterpriseToEbitda":"weighted_mean_enterpriseToEbitda",enterpriseToEbit:"stock"===o?"enterpriseToEbit":"weighted_mean_enterpriseToEbit",dividendYield:"stock"===o?"dividendYield":"weighted_mean_dividendYield",subSector:"subSector",segment:"segment",economicSector:"economicSector"}[i];if(!s)return console.log("Invalid indicator name: "+i),null;console.log(`Looking for ${s} for ${t} in option: `+o);i=e.find(e=>e[n]===t);return i&&i.hasOwnProperty(s)?(console.log(`Found ${s}:`,i[s],"for",t),i[s]):(console.log(`No item found or missing ${s} for ${t} in option: `+o),null)}(i,n,function(e){switch(e){case"stock":return table_data_fund;case"economic":return weighted_data_economic_sector;case"segment":return weighted_data_segment;case"subsector":return weighted_data_subsector;default:return console.log("Invalid option: "+e),[]}}(o),o,e);null!==t?(["returnOnAssets","returnOnEquity","earningsGrowth","revenueGrowth","grossMargins","ebitdaMargins","operatingMargins","profitMargins","heldPercentInsiders","heldPercentInstitutions","earningsQuarterlyGrowth","dividendYield"].includes(e)&&(t=(100*t).toFixed(2)+"%"),console.log(`Displaying ${e}:`,t),$(`#${e}Display`).text(t)):(console.log(`Displaying ${e}: Not Available`),$(`#${e}Display`).text("Not Available"))})):console.log("Waiting for both option and symbol/key selection...")}o=$("#listOption").text().trim().toLowerCase(),i=$("#selectedButtonValue").text().trim(),e[o]=i,$("#stocksOption").click(function(){o="stock",console.log("List option selected: stock"),i=e[o]||"",t()}),$("#economicSectorsOption").click(function(){o="economic",console.log("List option selected: economic"),i=e[o]||"",t()}),$("#segmentsOption").click(function(){o="segment",console.log("List option selected: segment"),i=e[o]||"",t()}),$("#subsectorsOption").click(function(){o="subsector",console.log("List option selected: subsector"),i=e[o]||"",t()}),$(".dropdown-menu a.dropdown-item").on("click",function(){i=$(this).text().trim(),$(this).closest(".btn-group").find(".dropdown-toggle").text(i),console.log("Selected symbol/key:",i),e[o]=i,t()}),$("#stockButton").click(function(){o="stock",i=$(this).text().trim(),console.log("Button value selected: stock -",i),e[o]=i,t()}),$("#economicButton").click(function(){o="economic",i=$(this).text().trim(),console.log("Button value selected: economic -",i),e[o]=i,t()}),$("#segmentButton").click(function(){o="segment",i=$(this).text().trim(),console.log("Button value selected: segment -",i),e[o]=i,t()}),$("#subsectorButton").click(function(){o="subsector",i=$(this).text().trim(),console.log("Button value selected: subsector -",i),e[o]=i,t()});var n,s={stocksOption:"#stockButton",segmentsOption:"#segmentButton",subsectorsOption:"#subsectorButton",economicSectorsOption:"#economicSectorButton",stockExchangeOption:"#stockExchangeButton"};function c(e,t,n){e.checked?(e=$(t).length===$(t+":checked").length,$(n).prop("checked",e)):$(n).prop("checked",!1)}$.each(s,function(e,t){$(t).prop("disabled",!0).removeClass("btn-success").addClass("btn-light")}),$.each(s,function(e,t){$("#"+e).click(function(){$.each(s,function(e,t){$("#"+e).prop("disabled",!1).removeClass("btn-success")}),$(this).prop("disabled",!0).addClass("btn-success"),$.each(s,function(e,t){$(t).prop("disabled",!0).removeClass("btn-success").addClass("btn-light")}),$(t).prop("disabled",!1).removeClass("btn-light").addClass("btn-success")})}),n=$.fn.DataTable.isDataTable("#stock-ind-fund")?$("#stock-ind-fund").DataTable():$("#stock-ind-fund").DataTable({}),$(".subsector-option-fund").change(function(){var e=$(".subsector-option-fund:checked").map(function(){return $(this).data("value")}).get().join("|");n.column(2).search(e,!0,!1).draw()}),$(".segment-option-fund").change(function(){var e=$(".segment-option-fund:checked").map(function(){return $(this).data("value")}).get().join("|");n.column(3).search(e,!0,!1).draw()}),$(".economicSector-option-fund").change(function(){var e=$(".economicSector-option-fund:checked").map(function(){return $(this).data("value")}).get().join("|");n.column(1).search(e,!0,!1).draw()}),$("#selectAllSubsectors").change(function(){var e=$(this).prop("checked");$(".subsector-option-fund").prop("checked",e).trigger("change")}),$("#selectAllSegments").change(function(){var e=$(this).prop("checked");$(".segment-option-fund").prop("checked",e).trigger("change")}),$("#selectAllEconomicSectors").change(function(){var e=$(this).prop("checked");$(".economicSector-option-fund").prop("checked",e).trigger("change")}),$("#selectAll").change(function(){$(".subsector-option-fund").prop("checked",this.checked)}),$(".subsector-option-fund").change(function(){c(this,".subsector-option-fund","#selectAll")}),$("#selectAllSegments").change(function(){$(".segment-option-fund").prop("checked",this.checked)}),$(".segment-option-fund").change(function(){c(this,".segment-option-fund","#selectAllSegments")}),$("#selectAllEconomicSectors").change(function(){$(".economicSector-option-fund").prop("checked",this.checked)}),$(".economicSector-option-fund").change(function(){c(this,".economicSector-option-fund","#selectAllEconomicSectors")}),n.on("draw",function(){updateUniqueCounts()})});