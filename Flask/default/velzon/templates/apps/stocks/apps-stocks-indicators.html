{% extends "partials/base.html" %}
{% block title %}Stock Indicators{% endblock title %}
{% block extra_css %}
    <!--datatable css-->
    <link rel="stylesheet" href="https://cdn.datatables.net/1.11.5/css/dataTables.bootstrap5.min.css" />
    <!--datatable responsive css-->
    <link rel="stylesheet" href="https://cdn.datatables.net/responsive/2.2.9/css/responsive.bootstrap.min.css" />

    <link rel="stylesheet" href="https://cdn.datatables.net/buttons/2.2.2/css/buttons.dataTables.min.css">
    <style>
        .dropdown-menu {
            max-height: 400px; /* Adjust this value as needed to fit 10 lines */
            overflow-y: auto; /* Enables vertical scrolling */
        }
    </style>
    
{% endblock extra_css %}
{% block content %}
            <!-- ============================================================== -->
            <!-- Start right Content here -->
            <!-- ============================================================== -->
            <div class="main-content">

                <div class="page-content">
                    <div class="container-fluid">

                    <!-- start page title -->
                    <div class="row">
                        <div class="col-12">
                            <div class="page-title-box d-sm-flex align-items-center justify-content-between">
                                <h4 class="mb-sm-0">Stock Indicators</h4>

                                <!--
                                <div class="page-title-right">
                                    <ol class="breadcrumb m-0">
                                        <li class="breadcrumb-item"><a href="javascript: void(0);">Crypto</a></li>
                                        <li class="breadcrumb-item active">Orders</li>
                                    </ol>
                                </div>
                                -->
                            </div>
                        </div>
                    </div>
                    <!-- end page title -->
                    <div class="row">
                        <div class="col-xl-3 col-md-6">
                            <!-- card -->
                            <div class="card card-animate">
                                <div class="card-body">
                                    <div class="d-flex align-items-center">
                                        <div class="flex-grow-1 overflow-hidden">
                                         <p class="text-uppercase fw-medium text-muted text-truncate mb-0">Total Stocks</p>
                                        </div>
                                        <div class="flex-shrink-0">
                                            <!--
                                            <h5 class="text-danger fs-14 mb-0">
                                                <i class="ri-arrow-right-down-line fs-13 align-middle"></i> -3.57 %
                                            </h5>
                                            -->
                                        </div>
                                    </div>
                                    <div class="d-flex align-items-end justify-content-between mt-4">
                                        <div>
                                            <h4 class="fs-22 fw-semibold ff-secondary mb-4">
                                                <span class="counter-value" data-target="{{ unique_symbols_count }}">0</span></h4>
                                                <br>
                                        </div>
                                        <div class="avatar-sm flex-shrink-0">
                                            <span class="avatar-title bg-info-subtle rounded fs-3">
                                                <i data-feather="activity" class="text-info"></i>
                                            </span>
                                        </div>
                                    </div>
                                </div><!-- end card body -->
                            </div><!-- end card -->
                        </div><!-- end col -->

                        <div class="col-xl-3 col-md-6">
                            <!-- card -->
                            <div class="card card-animate">
                                <div class="card-body">
                                    <div class="d-flex align-items-center">
                                        <div class="flex-grow-1 overflow-hidden">
                                            <p class="text-uppercase fw-medium text-muted text-truncate mb-0">Total Economic Sectors</p>
                                        </div>
                                        <div class="flex-shrink-0">
                                            <!--
                                            <h5 class="text-danger fs-14 mb-0">
                                                <i class="ri-arrow-right-down-line fs-13 align-middle"></i> -3.57 %
                                            </h5>
                                            -->
                                        </div>
                                    </div>
                                    <div class="d-flex align-items-end justify-content-between mt-4">
                                        <div>
                                            <h4 class="fs-22 fw-semibold ff-secondary mb-4"><span class="counter-value" data-target="{{ unique_economicSectors_count }}">0</span></h4>
                                            <a href="{{ url_for('apps.sectors_list') }}#custom-v-pills-home" class="text-decoration-underline">View all economic sectors</a>
                                        </div>
                                        <div class="avatar-sm flex-shrink-0">
                                            <span class="avatar-title bg-info-subtle rounded fs-3">
                                                <i class="ri-layout-top-line text-info"></i>
                                            </span>
                                        </div>
                                    </div>
                                </div><!-- end card body -->
                            </div><!-- end card -->
                        </div><!-- end col -->
                    

                    
                        <div class="col-xl-3 col-md-6">
                            <!-- card -->
                            <div class="card card-animate">
                                <div class="card-body">
                                    <div class="d-flex align-items-center">
                                        <div class="flex-grow-1 overflow-hidden">
                                            <p class="text-uppercase fw-medium text-muted text-truncate mb-0">Total Subsectors</p>
                                        </div>
                                        <div class="flex-shrink-0">
                                            <!--
                                            <h5 class="text-danger fs-14 mb-0">
                                                <i class="ri-arrow-right-down-line fs-13 align-middle"></i> -3.57 %
                                            </h5>
                                            -->
                                        </div>
                                    </div>
                                    <div class="d-flex align-items-end justify-content-between mt-4">
                                        <div>
                                            <h4 class="fs-22 fw-semibold ff-secondary mb-4"><span class="counter-value" data-target="{{ unique_subsectors_count }}">0</span></h4>
                                            <a href="{{ url_for('apps.sectors_list') }}#custom-v-pills-profile" class="text-decoration-underline">View all subsectors</a>
                                        </div>
                                        <div class="avatar-sm flex-shrink-0">
                                            <span class="avatar-title bg-info-subtle rounded fs-3">
                                                <i class="ri-layout-5-line text-info"></i>
                                            </span>
                                        </div>
                                    </div>
                                </div><!-- end card body -->
                            </div><!-- end card -->
                        </div><!-- end col -->

                        <div class="col-xl-3 col-md-6">
                            <!-- card -->
                            <div class="card card-animate">
                                <div class="card-body">
                                    <div class="d-flex align-items-center">
                                        <div class="flex-grow-1 overflow-hidden">
                                        <p class="text-uppercase fw-medium text-muted text-truncate mb-0">Total Segments</p>
                                        </div>
                                        <div class="flex-shrink-0">
                                            <!--
                                            <h5 class="text-danger fs-14 mb-0">
                                                <i class="ri-arrow-right-down-line fs-13 align-middle"></i> -3.57 %
                                            </h5>
                                            -->
                                        </div>
                                    </div>
                                    <div class="d-flex align-items-end justify-content-between mt-4">
                                        <div>
                                            <h4 class="fs-22 fw-semibold ff-secondary mb-4"><span class="counter-value" data-target="{{ unique_segments_count }}">0</span></h4>
                                            <a href="{{ url_for('apps.sectors_list') }}#custom-v-pills-messages" class="text-decoration-underline">View all segments</a>
                                        </div>
                                        <div class="avatar-sm flex-shrink-0">
                                            <span class="avatar-title bg-info-subtle rounded fs-3">
                                                <i class="ri-table-line text-info"></i>
                                            </span>
                                        </div>
                                    </div>
                                </div><!-- end card body -->
                            </div><!-- end card -->
                        </div><!-- end col -->
                    </div>
                    <div class="card">
                        <div class="card-body">
                            <p class="text-muted">Use class to generate equal-width elements with all horizontal space will be occupied by nav links.</p>
                            <!-- Nav tabs -->
                            <ul class="nav nav-tabs nav-justified mb-3" role="tablist">
                                <li class="nav-item">
                                    <a class="nav-link active" data-bs-toggle="tab" href="#base-justified-fundamentalist" role="tab" aria-selected="false">
                                        Fundamentalist indicators
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" data-bs-toggle="tab" href="#base-justified-price" role="tab" aria-selected="false">
                                        Price indicators
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" data-bs-toggle="tab" href="#base-justified-financial-statement" role="tab" aria-selected="false">
                                        Financial statements data
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" data-bs-toggle="tab" href="#base-justified-income-statement" role="tab" aria-selected="true">
                                        Income statement data
                                    </a>
                                </li>
                            </ul>
                            <!-- Tab panes -->
                            <div class="tab-content  text-muted">
                                <div class="tab-pane active" id="base-justified-fundamentalist" role="tabpanel">
                                    <h6>Graphic Design</h6>
                                    <p class="mb-0">
                                        They all have something to say beyond the words on the page. They can come across as casual or neutral, exotic or graphic. That's why it's important to think about your message, then choose a font that fits. Cosby sweater eu banh mi, qui irure terry richardson ex squid.
                                    </p>
                                </div>
                                <div class="tab-pane" id="base-justified-price" role="tabpanel">
                                    <h6>Product</h6>
                                    <p class="mb-0">
                                        You've probably heard that opposites attract. The same is true for fonts. Don't be afraid to combine font styles that are different but complementary, like sans serif with serif, short with tall, or decorative with simple. Qui photo booth letterpress, commodo enim craft beer mlkshk aliquip jean shorts ullamco ad vinyl cillum PBR.
                                    </p>
                                </div>
                                <div class="tab-pane" id="base-justified-financial-statement" role="tabpanel">
                                    <h6>Messages</h6>
                                    <p class="mb-0">
                                        Etsy mixtape wayfarers, ethical wes anderson tofu before they
                                        sold out mcsweeney's organic lomo retro fanny pack lo-fi
                                        farm-to-table readymade. Messenger bag gentrify pitchfork
                                        tattooed craft beer, iphone skateboard locavore carles etsy
                                        salvia banksy hoodie helvetica. DIY synth PBR banksy irony.
                                    </p>
                                </div>
                                <div class="tab-pane" id="base-justified-income-statement" role="tabpanel">
                                    <h6>Settings</h6>
                                    <p class="mb-0">
                                        Trust fund seitan letterpress, keytar raw denim keffiyeh etsy
                                        art party before they sold out master cleanse gluten-free squid
                                        scenester freegan cosby sweater. Fanny pack portland seitan DIY,
                                        art party locavore wolf cliche high life echo park Austin. Cred
                                        vinyl keffiyeh DIY salvia PBR, banh mi before they sold out
                                        farm-to-table VHS.
                                    </p>
                                </div>
                            </div>
                        </div><!-- end card-body -->
                    </div><!-- end card -->
                    <div class="row" id="contactList">
                        <div class="col-lg-12">
                            <div class="card">
                                <div class="card-header d-flex align-items-center border-0">
                                    <h5 class="card-title mb-0 flex-grow-1">Stocks</h5>
                                    <div class="flex-shrink-0">
                                        <!--
                                        <div class="flax-shrink-0 hstack gap-2">
                                            <button class="btn btn-primary">Today's Orders</button>
                                            <button class="btn btn-soft-info">Past Orders</button>
                                        </div>
                                        -->
                                    </div>
                                </div>
                                <div class="card-body border border-dashed border-end-0 border-start-0">
                                    <div class="row g-2">
                                    
                                    
                                        <!--end col-->
                                        <!--
                                        <div class="col-xl-3 col-md-6">
                                            
                                            <div class="input-group">
                                                <span class="input-group-text" id="basic-addon1"><i class="ri-calendar-2-line"></i></span>
                                                <input type="text" class="form-control" data-provider="flatpickr" data-date-format="d M, Y" data-range-date="true" placeholder="Select date" id="range-datepicker" aria-describedby="basic-addon1">
                                            </div>
                                            
                                        </div>
                                        -->
                                        <!--end col-->
                                        <div class="col-xl-2 col-md-4">
                                            <div class="btn-group" style="width: 100%;">
                                                <button class="btn btn-light dropdown-toggle" type="button" id="dropdownMenuEconomicSector" data-bs-toggle="dropdown" data-bs-auto-close="outside">
                                                    Economic Sector
                                                </button>
                                                <ul class="dropdown-menu" aria-labelledby="economicSectorDropdown">
                                                    <!-- All option -->
                                                    <li>
                                                        <label class="dropdown-item">
                                                            <input type="checkbox" class="form-check-input" id="selectAllEconomicSectors"> All
                                                        </label>
                                                    </li>
                                                    {% for economicSector in economicSectors|select('!=', None)|sort %}
                                                        <li>
                                                            <label class="dropdown-item">
                                                                <input type="checkbox" class="form-check-input economicSector-option-fund" data-value="{{ economicSector }}"> {{ economicSector }}
                                                            </label>
                                                        </li>
                                                    {% endfor %}
                                                </ul>
                                            </div>
                                        </div>
                                        
                                        
                                        
                                        <!--end col-->
                                        <div class="col-xl-2 col-md-4">
                                            <div class="btn-group" style="width: 100%;">
                                                <button class="btn btn-light dropdown-toggle" type="button" id="dropdownMenuSubsector" data-bs-toggle="dropdown" data-bs-auto-close="outside">
                                                    Subsector
                                                </button>
                                                <ul class="dropdown-menu" aria-labelledby="subSectorDropdown" id="subsector-filter">
                                                    <!-- All option -->
                                                    <li>
                                                        <label class="dropdown-item">
                                                            <input type="checkbox" class="form-check-input" id="selectAllSubsectors"> All
                                                        </label>
                                                    </li>
                                                    {% for subsector in subsectors|select('!=', None)|sort %}
                                                        <li>
                                                            <label class="dropdown-item">
                                                                <input type="checkbox" class="form-check-input subsector-option-fund" data-value="{{ subsector }}"> {{ subsector }}
                                                            </label>
                                                        </li>
                                                    {% endfor %}
                                                </ul>
                                            </div>
                                        </div>
                                        
                                        <div class="col-xl-2 col-md-4">
                                            <div class="btn-group" style="width: 100%;">
                                                <button class="btn btn-light dropdown-toggle" type="button" id="dropdownMenuSegment" data-bs-toggle="dropdown" data-bs-auto-close="outside">
                                                    Segment
                                                </button>
                                                <ul class="dropdown-menu" aria-labelledby="segmentDropdown" id="segment-filter">
                                                    <!-- All option -->
                                                    <li>
                                                        <label class="dropdown-item">
                                                            <input type="checkbox" class="form-check-input" id="selectAllSegments"> All
                                                        </label>
                                                    </li>
                                                    {% for segment in segments|select('!=', None)|sort %}
                                                        <li>
                                                            <label class="dropdown-item">
                                                                <input type="checkbox" class="form-check-input segment-option-fund" data-value="{{ segment }}"> {{ segment }}
                                                            </label>
                                                        </li>
                                                    {% endfor %}
                                                </ul>
                                            </div>
                                        </div>
                                        
                                        

                                        
                                    </div>
                                    <!--end row-->
                                </div>
                                <div class="card-body">
                                    <table class="table table-bordered dt-responsive nowrap align-middle table-hover" style="width:100%" id="stock-ind-fund">
                                        <thead>
                                            <tr>
                                                <th>Ticker</th>
                                                <th>Economic Sector</th>
                                                <th>Subsector</th>
                                                <th>Segment</th>
                                                <!-- Financial Indicators -->
                                                <th>Quick Ratio</th>
                                                <th>Current Ratio</th>
                                                <th>Debt to Equity</th>
                                                <th>Revenue per Share</th>
                                                <th>Return on Assets</th>
                                                <th>Return on Equity</th>
                                                <th>Earnings Growth</th>
                                                <th>Revenue Growth</th>
                                                <th>Gross Margins</th>
                                                <th>EBITDA Margins</th>
                                                <th>Operating Margins</th>
                                                <th>Profit Margins</th>
                                                <th>Held % Insiders</th>
                                                <th>Held % Institutions</th>
                                                <th>Beta</th>
                                                <th>Book Value</th>
                                                <th>Earnings Quarterly Growth</th>
                                                <th>Trailing EPS</th>
                                                <th>Forward EPS</th>
                                                <th>Enterprise to EBITDA</th>
                                                <th>Enterprise to EBIT</th>
                                                <th>Dividend Yield</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {% for row in table_data_fund %}
                                            <tr>
                                                <td>{{ row['symbol'] }}</td>
                                                <td>{{ row['economicSector'] }}</td>
                                                <td>{{ row['subSector'] }}</td>
                                                <td>{{ row['segment'] }}</td>
                                                <!-- Financial Indicators -->
                                                <td>{{ row['quickRatio'] }}</td>
                                                <td>{{ row['currentRatio'] }}</td>
                                                <td>{{ row['debtToEquity'] }}</td>
                                                <td>{{ row['revenuePerShare'] }}</td>
                                                <td>{{ row['returnOnAssets'] }}</td>
                                                <td>{{ row['returnOnEquity'] }}</td>
                                                <td>{{ row['earningsGrowth'] }}</td>
                                                <td>{{ row['revenueGrowth'] }}</td>
                                                <td>{{ row['grossMargins'] }}</td>
                                                <td>{{ row['ebitdaMargins'] }}</td>
                                                <td>{{ row['operatingMargins'] }}</td>
                                                <td>{{ row['profitMargins'] }}</td>
                                                <td>{{ row['heldPercentInsiders'] }}</td>
                                                <td>{{ row['heldPercentInstitutions'] }}</td>
                                                <td>{{ row['beta'] }}</td>
                                                <td>{{ row['bookValue'] }}</td>
                                                <td>{{ row['earningsQuarterlyGrowth'] }}</td>
                                                <td>{{ row['trailingEps'] }}</td>
                                                <td>{{ row['forwardEps'] }}</td>
                                                <td>{{ row['enterpriseToEbitda'] }}</td>
                                                <td>{{ row['enterpriseToEbit'] }}</td>
                                                <td>{{ row['dividendYield'] }}</td>
                                            </tr>
                                            {% endfor %}
                                        </tbody>
                                    </table>
                                            
                                </div>
                            </div>
                            <!--end card-->
                        </div>
                        <!--end col-->
                    </div>
                    <!--end row-->


                </div>
                <!-- container-fluid -->
            </div>
            <!-- End Page-content -->

            {% block footer %}
            {% include "partials/footer.html" %}
            {% endblock footer %}
            </div>
            <!-- end main content-->
{% endblock content %}
{% block extra_js %}
<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<!--datatable js-->
<!--datatable js-->
<script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/v/dt/dt-1.10.25/datatables.min.js"></script>
<script src="https://cdn.datatables.net/1.11.5/js/dataTables.bootstrap5.min.js"></script>
<script src="https://cdn.datatables.net/responsive/2.2.9/js/dataTables.responsive.min.js"></script>
<script src="https://cdn.datatables.net/buttons/2.2.2/js/dataTables.buttons.min.js"></script>
<script src="https://cdn.datatables.net/buttons/2.2.2/js/buttons.print.min.js"></script>
<script src="https://cdn.datatables.net/buttons/2.2.2/js/buttons.html5.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>

<script src="{{url_for('static' ,filename='js/pages/datatables.init.js')}}"></script>
<script src="{{ url_for('static', filename='js/pages/stocks-indicators.init.js') }}"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


{% endblock extra_js %}